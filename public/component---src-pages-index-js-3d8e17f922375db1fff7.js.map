{"version":3,"sources":["webpack://melodyfy/./src/components/atoms/button/Button.js","webpack://melodyfy/./src/components/atoms/label/Label.tsx","webpack://melodyfy/./src/components/atoms/input/Input.tsx","webpack://melodyfy/./src/components/molecules/form-field/FormField.tsx","webpack://melodyfy/./src/components/organisms/login-form/LoginForm.js","webpack://melodyfy/./src/pages/Login.js","webpack://melodyfy/./src/components/organisms/list-new-releases/ListNewReleases.js","webpack://melodyfy/./src/pages/index.js"],"names":["Button","children","onClick","type","className","Label","Input","FormField","label","inputType","handleLoginSpotify","window","location","Typography","variant","title","useState","albumsCards","setAlbumsCards","isBrowser","useEffect","localStorage","getItem","navigate","spotifyApi","SpotifyWebApi","setAccessToken","getNewReleases","then","data","albums","items","map","element","AlbumCard","key","id","imageUrl","images","url","name","by","artists","tokenSpotify","setTokenSpotify","hash","split","setItem","Login"],"mappings":"2LAQaA,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,QAAb,OACpB,0BAAQC,KAAK,SAASD,QAASA,EAASE,UAAU,YAC/CH,ICLQI,EAAyB,SAAC,GAAD,IAAGJ,EAAH,EAAGA,SAAH,OAAkB,4BAAOA,ICClDK,EAAyB,SAAC,GAAD,IAAGH,EAAH,EAAGA,KAAH,OAAc,yBAAOA,KAAMA,KCKpDI,EAA6B,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,UAAV,OACxC,uBAAKL,UAAU,gBACb,gBAACC,EAAD,KAAQG,GACR,gBAACF,EAAD,CAAOH,KAAMM,MCcjB,EAtBkB,WAChB,IAAMC,EAAqB,WACzBC,OAAOC,SAAP,+JAGF,OACE,gCACE,gBAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,yBAEA,wBAAMV,UAAU,gBACd,gBAACG,EAAD,CAAWC,MAAM,QAAQC,UAAU,SACnC,gBAACF,EAAD,CAAWC,MAAM,WAAWC,UAAU,aACtC,gBAACT,EAAD,CAAQE,QAASQ,GAAjB,YAGF,gBAACG,EAAA,EAAD,CAAYC,QAAQ,KAApB,+BAEA,gBAACd,EAAD,CAAQE,QAASQ,GAAjB,aCJN,EAbc,WACZ,OACE,gCACE,uBAAKN,UAAU,WACb,gBAAC,IAAD,CAAKW,MAAM,UACX,gBAACF,EAAA,EAAD,CAAYC,QAAQ,MAApB,cACA,gBAACD,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,gBAAC,EAAD,U,uJCsCR,EA5CwB,WACtB,OAAsCE,cAAS,IAAxCC,EAAP,KAAoBC,EAApB,KAEMC,EAA8B,oBAAXR,OAwBzB,OAtBAS,gBAAU,WACR,GAAID,EACF,GAA6C,OAAzCE,aAAaC,QAAQ,iBAEvBC,cAAS,cACJ,CACL,IAAIC,EAAa,IAAIC,KAErBD,EAAWE,eAAeL,aAAaC,QAAQ,iBAE/CE,EAAWG,iBAAiBC,MAC1B,SAAUC,GACRX,EAAeW,EAAKC,OAAOC,UAE7B,YACER,cAAS,gBAKhB,CAACJ,IAGF,gCACE,gBAACN,EAAA,EAAD,CAAYC,QAAQ,MAApB,gBACA,2BAASV,UAAU,uBAChBa,EAAYe,KAAI,SAAAC,GAAO,OACtB,gBAACC,EAAA,EAAD,CACEC,IAAKF,EAAQG,GACbC,SAAUJ,EAAQK,OAAO,GAAGC,IAC5BxB,MAAOkB,EAAQO,KACfC,GAAIR,EAAQS,QAAQ,GAAGF,a,UCZnC,EA1BkB,SAAC,GAAkB,IAAhB5B,EAAe,EAAfA,SACnB,GAAwCI,gBAAjC2B,EAAP,KAAqBC,EAArB,KAeA,OAbAxB,gBAAU,WACc,oBAAXT,QACTiC,EAAgBvB,aAAaC,QAAQ,iBAGjB,KAAlBV,EAASiC,MACyB,kBAAhCjC,EAASiC,KAAKC,MAAM,KAAK,KAC3BF,EAAgBhC,EAASiC,KAAKC,MAAM,KAAK,IACzCzB,aAAa0B,QAAQ,eAAgBnC,EAASiC,KAAKC,MAAM,KAAK,OAGjE,CAAClC,EAASiC,OAEW,OAAjBF,EACL,gCACE,gBAAC,IAAD,CAAK5B,MAAM,SACX,gBAAC,EAAD,OAGF,gBAACiC,EAAA,QAAD","file":"component---src-pages-index-js-3d8e17f922375db1fff7.js","sourcesContent":["import React from \"react\"\nimport \"./button.scss\"\n\n// type ButtonProps = {\n//   text: string;\n//   onClick: Function;\n// };\n\nexport const Button = ({ children, onClick }) => (\n  <button type=\"button\" onClick={onClick} className=\"a-button\">\n    {children}\n  </button>\n)\n","import React from \"react\"\n\ntype props = {\n  children: React.ReactNode\n}\nexport const Label: React.FC<props> = ({ children }) => <span>{children}</span>\n","import React from \"react\"\n\ntype props = {\n  type: string\n}\n\nexport const Input: React.FC<props> = ({ type }) => <input type={type} />\n","import { Label } from \"../../../../src/components/atoms/label/Label\"\nimport { Input } from \"../../../../src/components/atoms/input/Input\"\nimport \"./formField.scss\"\n\nimport React from \"react\"\n\ntype props = {\n  label: string\n  inputType: string\n}\n\nexport const FormField: React.FC<props> = ({ label, inputType }) => (\n  <div className=\"m-form-field\">\n    <Label>{label}</Label>\n    <Input type={inputType} />\n  </div>\n)\n","import React from \"react\"\nimport { Button } from \"../../atoms/button/Button\"\nimport { Typography } from \"../../atoms/typography/Typography\"\nimport { FormField } from \"../../molecules/form-field/FormField\"\nimport \"./loginForm.scss\"\n\nconst LoginForm = () => {\n  const handleLoginSpotify = () => {\n    window.location = `https://accounts.spotify.com/authorize?client_id=3208ccd9ce0244a68e4a2f1d2046fd9f&redirect_uri=http://localhost:8000/?&response_type=token&show_dialog=true`\n  }\n\n  return (\n    <>\n      <Typography variant=\"p\">Enter with your email</Typography>\n\n      <form className=\"o-login-form\">\n        <FormField label=\"Email\" inputType=\"text\" />\n        <FormField label=\"Password\" inputType=\"password\" />\n        <Button onClick={handleLoginSpotify}>Sing In</Button>\n      </form>\n\n      <Typography variant=\"p\">Or use your Spotify account</Typography>\n\n      <Button onClick={handleLoginSpotify}>Spotify</Button>\n    </>\n  )\n}\n\nexport default LoginForm\n","import React from \"react\"\r\nimport Seo from \"../components/atoms/seo/seo\"\r\nimport { Typography } from \"../components/atoms/typography/Typography\"\r\nimport LoginForm from \"../components/organisms/login-form/LoginForm\"\r\nimport \"../styles/login.scss\"\r\n\r\nconst Login = () => {\r\n  return (\r\n    <>\r\n      <div className=\"p-login\">\r\n        <Seo title=\"Login\" />\r\n        <Typography variant=\"h1\">Hi there !</Typography>\r\n        <Typography variant=\"p\">Welcome to your new favorite site.</Typography>\r\n        <LoginForm />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import { navigate } from \"gatsby\"\nimport React, { useEffect, useState } from \"react\"\nimport SpotifyWebApi from \"../../../services/spotify-web-api.js\"\nimport { Typography } from \"../../atoms/typography/Typography\"\nimport AlbumCard from \"../../molecules/albumn-card/AlbumCard.js\"\nimport \"./listNewReleases.scss\"\n\nconst ListNewReleases = () => {\n  const [albumsCards, setAlbumsCards] = useState([])\n\n  const isBrowser = typeof window !== \"undefined\"\n\n  useEffect(() => {\n    if (isBrowser) {\n      if (localStorage.getItem(\"tokenSpotify\") === null) {\n        // Spotify token is required\n        navigate(\"/Login\")\n      } else {\n        let spotifyApi = new SpotifyWebApi()\n\n        spotifyApi.setAccessToken(localStorage.getItem(\"tokenSpotify\"))\n\n        spotifyApi.getNewReleases().then(\n          function (data) {\n            setAlbumsCards(data.albums.items)\n          },\n          function () {\n            navigate(\"/Login\")\n          }\n        )\n      }\n    }\n  }, [isBrowser])\n\n  return (\n    <>\n      <Typography variant=\"h2\">New Releases</Typography>\n      <section className=\"o-list-new-releases\">\n        {albumsCards.map(element => (\n          <AlbumCard\n            key={element.id}\n            imageUrl={element.images[0].url}\n            title={element.name}\n            by={element.artists[0].name}\n          />\n        ))}\n      </section>\n    </>\n  )\n}\n\nexport default ListNewReleases\n","import React, { useEffect, useState } from \"react\"\r\nimport Seo from \"../components/atoms/seo/seo\"\r\nimport ListNewReleases from \"../components/organisms/list-new-releases/ListNewReleases\"\r\nimport Login from \"./Login\"\r\n\r\nconst IndexPage = ({ location }) => {\r\n  const [tokenSpotify, setTokenSpotify] = useState()\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      setTokenSpotify(localStorage.getItem(\"tokenSpotify\"))\r\n    }\r\n\r\n    if (location.hash !== \"\") {\r\n      if (location.hash.split(\"=\")[0] === \"#access_token\") {\r\n        setTokenSpotify(location.hash.split(\"=\")[1])\r\n        localStorage.setItem(\"tokenSpotify\", location.hash.split(\"=\")[1])\r\n      }\r\n    }\r\n  }, [location.hash])\r\n\r\n  return tokenSpotify !== null ? (\r\n    <>\r\n      <Seo title=\"Home\" />\r\n      <ListNewReleases />\r\n    </>\r\n  ) : (\r\n    <Login />\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}